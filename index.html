<html>

  <head>

	<!-- my CSS Stylesheet -->
  <link rel="stylesheet" href="css/stylesheet.css">

	<!-- p5 -->
	<script src="libraries/p5.js" type="text/javascript"></script>
	<script src="libraries/p5.dom.js" type="text/javascript"></script>
	<script language="javascript" type="text/javascript" src="p5-banner.js/sketch.js"></script>

	<!-- socket.io -->
	<script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>

	<!-- google visualization pie chart -->
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript">

        var socket = io('https://cudde.herokuapp.com:80/')
    		socket.on('connect', function() {
    		  console.log('connected')
    		})

    		socket.on('welcome', function(msg) {
    		  var data = msg.stats
          console.log(data)
          // drawChart(data)
    		})

    		socket.on('new_submission', function(msg) {
    		  console.log('new vote: ' + msg)
    		})

	      google.load("visualization", "1", {packages:["corechart"]});
	      //google.setOnLoadCallback(drawChart);
	      function drawChart(data) {
	      	var votes
	        var data = google.visualization.arrayToDataTable([

	          ["Candidate", "Number of Votes"],		//random votes for testing
	          ["Ben Carson", 11],
	          ["Bernie Sanders", 17],
	          ["Donald Trump", 5],
	          ["Hillary Clinton", 6],
	          ["Marco Rubio", 2],
	          ["Martin Omally", 9]

	        ]);

	        var options = {
	          //title: '2015 Presidential Election',
	          //pieHole: 0.33,
	          is3D: true,
	          chartArea: {left:0,top:30,width:'100%',height:'80%'},
	          //backgroundColor:'white',
	          //backgroundColor: {stroke:'red', strokeWidth:10}, //border
	          legend: {position:'bottom', alignment:'center', fontSize:30}

	        };

	        var chart = new google.visualization.PieChart(document.getElementById('piechart_div'));
	        chart.draw(data, options);
	      }
    	</script>

  </head>



  <body>

  	<center>

  		<div id="p5-banner">

		</div>

	    <div id="piechart_div"></div>

  	</center>




  </body>

</html>
